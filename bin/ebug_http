#!/usr/bin/env perl
BEGIN { 
    $ENV{CATALYST_ENGINE} ||= 'HTTP';
    $ENV{CATALYST_SCRIPT_GEN} = 40;
}  

use strict;
use warnings;
use lib::findbin '../lib'; # dev-only
use Devel::ebug;
use Devel::ebug::HTTP;

# PODNAME: ebug_http
# ABSTRACT: A simple, extensible web Perl debugger
# VERSION

my $filename = shift;
die "Usage: ebug_http filename\n" unless $filename;

my $ebug = Devel::ebug->new();
$ebug->program($filename);
$ebug->load;
$Devel::ebug::HTTP::ebug = $ebug;

use Catalyst::ScriptRunner;
Catalyst::ScriptRunner->run('Devel::ebug::HTTP', 'Server');

1;

__END__

=head1 SYNOPSIS

  % ebug_http calc.pl

=head1 DESCRIPTION

ebug is a web-based front end to L<Devel::ebug>. It is a simple Perl
debugger. When run, it will report back how to contact its front page.

=head1 SEE ALSO

L<Devel::ebug>

=cut
